{% extends "base.html" %}
{% block title %}Uploads{% endblock %}
{% block content %}
<div class="bg-white p-4 shadow rounded">
  <h2>ðŸ“‚ Upload de Arquivos</h2>
  
  {% if mensagem %}
    <div class="alert alert-info mt-3">{{ mensagem }}</div>
  {% endif %}

  <form method="post" enctype="multipart/form-data" class="mt-3">
    <div class="mb-3">
      <label class="form-label">Arquivo</label>
      <input type="file" name="file" class="form-control" required>
    </div>
    <div class="mb-3">
      <label class="form-label">ObservaÃ§Ã£o</label>
      <input type="text" name="observacao" class="form-control" placeholder="Digite uma observaÃ§Ã£o">
    </div>
    <button type="submit" class="btn btn-primary">Enviar</button>
  </form>

  <hr class="my-4">

  <h4>ðŸ“‘ Documentos Enviados</h4>
{% if documentos %}
  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>Arquivo</th>
        <th>Data</th>
        <th>UsuÃ¡rio</th>
        <th>ObservaÃ§Ã£o</th>
        <th>AÃ§Ãµes</th>
      </tr>
    </thead>
    <tbody>
      {% for doc in documentos %}
      <tr>
        <td>{{ doc.arquivo }}</td>
        <td>{{ doc.data }}</td>
        <td>{{ doc.usuario }}</td>
        <td>{{ doc.observacao }}</td>
        <td>
          <a href="{{ url_for('download_file', filename=doc.arquivo) }}" class="btn btn-sm btn-outline-primary">
            Baixar
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p class="text-muted">Nenhum documento enviado ainda.</p>
{% endif %}
</div>
{% endblock %}
